!function(){function isScrolledIntoView(elem,offset){var $elem=$(elem),$window=$(window),docViewTop=$window.scrollTop(),docViewBottom=docViewTop+$window.height(),elemTop=$elem.offset().top,elemBottom=elemTop+$elem.height()-offset;return docViewBottom>=elemBottom&&elemTop>=docViewTop}var app=angular.module("myApp",["ngDialog"]);app.controller("MainController",["$scope","ngDialog",function($scope,ngDialog){this.tab=1,this.setTab=function(tabId){this.tab=tabId},this.isSet=function(tabId){return this.tab===tabId},$scope.products=[{name:"awesome photo 1",src:"images/img.jpg",category:"graphic",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 3",src:"images/img2.jpg",category:"web",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 4",src:"images/img3.jpg",category:"web",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 5",src:"images/img4.jpg",category:"photo",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 6",src:"images/img5.jpg",category:"photo",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 7",src:"images/img6.jpg",category:"photo",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 8",src:"images/img7.jpg",category:"graphic",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 9",src:"images/img.jpg",category:"graphic",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 3",src:"images/img2.jpg",category:"web",description:"Eum cu tantas legere complectitur, hinc utamu"},{name:"awesome photo 3",src:"images/img3.jpg",category:"web",description:"Eum cu tantas legere complectitur, hinc utamu"}],$scope.timelineData=[{data:"September 2014",title:"We Reach The Top",subtitle:"Kat is new brand",description:"Lorem ipsum dolor sit amet, rebum dolore labores cu pri. Ferri iudico scripta ut eam, diceret euismod gubergren has eu, an quo tale vivendum. Ad quidam gubergren vituperatoribus sit. Ius etiam nemore consulatu ne, at meliore explicari conceptam qui. Agam ceteros forensibus."},{data:"May 2014",title:"Close To The Stars",subtitle:"Big thing are happening",description:"Lorem ipsum dolor sit amet, rebum dolore labores cu pri. Ferri iudico scripta ut eam, diceret euismod gubergren has eu, an quo tale vivendum. Ad quidam gubergren vituperatoribus sit. Ius etiam nemore consulatu."},{data:"April 2012",title:"New Office",subtitle:"We are moving",description:"Lorem ipsum dolor sit amet, rebum dolore labores cu pri. Ferri iudico scripta ut eam, diceret euismod gubergren has eu, an quo tale vivendum."},{data:"March 2012",title:"Ket Is Live",subtitle:"Just started and feel so alive",description:"Lorem ipsum dolor sit amet, rebum dolore labores cu pri. Ferri iudico scripta ut eam, diceret euismod gubergren has eu, an quo tale vivendum. Ad quidam gubergren vituperatoribus sit. Ius etiam nemore consulatu ne, at meliore explicari conceptam qui. Agam ceteros forensibus vix eu, paulo ubique ex eam."}],$scope.counters=[{value:"3054",description:"completed projects",icon:"images/icon-projects.png"},{value:"7234873",description:"click presed",icon:"images/icon-click.png"},{value:"4670",description:"mails sended and received",icon:"images/icon-mails.png"},{value:"939",description:"jokes tolds",icon:"images/icon-jokes.png"}],$scope.filters={},$scope.sort=function(value){$scope.filters.category=value},$scope.clickToOpen=function(item){ngDialog.open({template:' <div class="popup_wrap"><img class="popup_img" src="'+item.src+'" alt=""/><span class="popup_name">'+item.name+"</span>",className:"ngdialog-theme-default",plain:!0,width:"60%"})}}]),$(document).ready(function(){function changeMenu(){$(window).width()<768?(topNav.addClass("mobilenav"),topNav.css("display","none")):(topNav.removeClass("mobilenav"),topNav.css("display","block"))}$(".portfolio__counter-item_value").counterUp({delay:10,time:1e3});var slickSettings={centerMode:!0,centerPadding:"150px",slidesToShow:3,responsive:[{breakpoint:768,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}},{breakpoint:480,settings:{arrows:!1,centerMode:!0,centerPadding:"40px",slidesToShow:1}}]},galleryClass=$(".center"),galleryFilters=$(".portfolio__tabs");galleryClass.slick(slickSettings),galleryFilters.find("div").click(function(){galleryClass.slick("unslick"),galleryClass.slick(slickSettings),galleryFilters.find("div").removeClass("portfolio__tabs_item--active"),$(this).addClass("portfolio__tabs_item--active")});var topNav=$("#nav-tabs");changeMenu(),$(window).resize(function(){changeMenu()}),topNav.find("a").click(function(){var scroll_el=$(this).attr("href");0!==$(scroll_el).length&&$("html, body").animate({scrollTop:$(scroll_el).offset().top},500)});var nav=$("#nav"),navpos=nav.offset();$(window).bind("scroll",function(){$(window).scrollTop()>navpos.top?nav.addClass("fixed"):nav.removeClass("fixed"),$.each(["#typography","#buttons","#grids","#forms","#bars","#images","#navi"],function(key,val){if(isScrolledIntoView(val,100)){var nav_id="#"+$(val).attr("id");topNav.find("a").removeClass("header__nav_item--active"),$('a[href="'+nav_id+'"]').addClass("header__nav_item--active")}}),topNav.find("a").click(function(){topNav.find("a").removeClass("header__nav_item--active"),$(this).addClass("header__nav_item--active")}),$(".timeline__item").each(function(){isScrolledIntoView(this,0)?($(this).removeClass("hidden-elem"),$(this).addClass("visible-elem")):($(this).addClass("hidden-elem"),$(this).removeClass("visible-elem"))})})})}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOlsiaXNTY3JvbGxlZEludG9WaWV3IiwiZWxlbSIsIm9mZnNldCIsIiRlbGVtIiwiJCIsIiR3aW5kb3ciLCJ3aW5kb3ciLCJkb2NWaWV3VG9wIiwic2Nyb2xsVG9wIiwiZG9jVmlld0JvdHRvbSIsImhlaWdodCIsImVsZW1Ub3AiLCJ0b3AiLCJlbGVtQm90dG9tIiwiYXBwIiwiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJuZ0RpYWxvZyIsInRoaXMiLCJ0YWIiLCJzZXRUYWIiLCJ0YWJJZCIsImlzU2V0IiwicHJvZHVjdHMiLCJuYW1lIiwic3JjIiwiY2F0ZWdvcnkiLCJkZXNjcmlwdGlvbiIsInRpbWVsaW5lRGF0YSIsImRhdGEiLCJ0aXRsZSIsInN1YnRpdGxlIiwiY291bnRlcnMiLCJ2YWx1ZSIsImljb24iLCJmaWx0ZXJzIiwic29ydCIsImNsaWNrVG9PcGVuIiwiaXRlbSIsIm9wZW4iLCJ0ZW1wbGF0ZSIsImNsYXNzTmFtZSIsInBsYWluIiwid2lkdGgiLCJkb2N1bWVudCIsInJlYWR5IiwiY2hhbmdlTWVudSIsInRvcE5hdiIsImFkZENsYXNzIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJjb3VudGVyVXAiLCJkZWxheSIsInRpbWUiLCJzbGlja1NldHRpbmdzIiwiY2VudGVyTW9kZSIsImNlbnRlclBhZGRpbmciLCJzbGlkZXNUb1Nob3ciLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiYXJyb3dzIiwiZ2FsbGVyeUNsYXNzIiwiZ2FsbGVyeUZpbHRlcnMiLCJzbGljayIsImZpbmQiLCJjbGljayIsInJlc2l6ZSIsInNjcm9sbF9lbCIsImF0dHIiLCJsZW5ndGgiLCJhbmltYXRlIiwibmF2IiwibmF2cG9zIiwiYmluZCIsImVhY2giLCJrZXkiLCJ2YWwiLCJuYXZfaWQiXSwibWFwcGluZ3MiOiJDQUFBLFdBaURJLFFBQVNBLG9CQUFtQkMsS0FBS0MsUUFDN0IsR0FB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QUVnQixNQUFNZ0MsWUFBWSxlQUNwQmhELEVBQUVnQixNQUFNOEIsU0FBUyxrQkFHakI5QyxFQUFFZ0IsTUFBTThCLFNBQVMsZUFDakI5QyxFQUFFZ0IsTUFBTWdDLFlBQVkiLCJmaWxlIjoic2NyaXB0cy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdteUFwcCcsIFsnbmdEaWFsb2cnXSk7XG5cbiAgICBhcHAuY29udHJvbGxlcignTWFpbkNvbnRyb2xsZXInLFsnJHNjb3BlJywgJ25nRGlhbG9nJywgZnVuY3Rpb24gKCRzY29wZSwgbmdEaWFsb2cpIHtcbiAgICAgICAgdGhpcy50YWIgPSAxO1xuICAgICAgICB0aGlzLnNldFRhYiA9IGZ1bmN0aW9uICh0YWJJZCkge1xuICAgICAgICAgICAgdGhpcy50YWIgPSB0YWJJZDtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pc1NldCA9IGZ1bmN0aW9uICh0YWJJZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudGFiID09PSB0YWJJZDtcbiAgICAgICAgfTtcblxuICAgICAgICAkc2NvcGUucHJvZHVjdHMgPSBbXG4gICAgICAgICAgICB7bmFtZSA6IFwiYXdlc29tZSBwaG90byAxXCIsIHNyYyA6ICdpbWFnZXMvaW1nLmpwZycsIGNhdGVnb3J5IDogXCJncmFwaGljXCIsIGRlc2NyaXB0aW9uIDogXCJFdW0gY3UgdGFudGFzIGxlZ2VyZSBjb21wbGVjdGl0dXIsIGhpbmMgdXRhbXVcIn0sXG4gICAgICAgICAgICB7bmFtZSA6IFwiYXdlc29tZSBwaG90byAzXCIsIHNyYyA6ICdpbWFnZXMvaW1nMi5qcGcnLCBjYXRlZ29yeSA6IFwid2ViXCIsIGRlc2NyaXB0aW9uIDogXCJFdW0gY3UgdGFudGFzIGxlZ2VyZSBjb21wbGVjdGl0dXIsIGhpbmMgdXRhbXVcIn0sXG4gICAgICAgICAgICB7bmFtZSA6IFwiYXdlc29tZSBwaG90byA0XCIsIHNyYyA6ICdpbWFnZXMvaW1nMy5qcGcnLCBjYXRlZ29yeSA6IFwid2ViXCIsIGRlc2NyaXB0aW9uIDogXCJFdW0gY3UgdGFudGFzIGxlZ2VyZSBjb21wbGVjdGl0dXIsIGhpbmMgdXRhbXVcIn0sXG4gICAgICAgICAgICB7bmFtZSA6IFwiYXdlc29tZSBwaG90byA1XCIsIHNyYyA6ICdpbWFnZXMvaW1nNC5qcGcnLCBjYXRlZ29yeSA6IFwicGhvdG9cIiwgZGVzY3JpcHRpb24gOiBcIkV1bSBjdSB0YW50YXMgbGVnZXJlIGNvbXBsZWN0aXR1ciwgaGluYyB1dGFtdVwifSxcbiAgICAgICAgICAgIHtuYW1lIDogXCJhd2Vzb21lIHBob3RvIDZcIiwgc3JjIDogJ2ltYWdlcy9pbWc1LmpwZycsIGNhdGVnb3J5IDogXCJwaG90b1wiLCBkZXNjcmlwdGlvbiA6IFwiRXVtIGN1IHRhbnRhcyBsZWdlcmUgY29tcGxlY3RpdHVyLCBoaW5jIHV0YW11XCJ9LFxuICAgICAgICAgICAge25hbWUgOiBcImF3ZXNvbWUgcGhvdG8gN1wiLCBzcmMgOiAnaW1hZ2VzL2ltZzYuanBnJywgY2F0ZWdvcnkgOiBcInBob3RvXCIsIGRlc2NyaXB0aW9uIDogXCJFdW0gY3UgdGFudGFzIGxlZ2VyZSBjb21wbGVjdGl0dXIsIGhpbmMgdXRhbXVcIn0sXG4gICAgICAgICAgICB7bmFtZSA6IFwiYXdlc29tZSBwaG90byA4XCIsIHNyYyA6ICdpbWFnZXMvaW1nNy5qcGcnLCBjYXRlZ29yeSA6IFwiZ3JhcGhpY1wiLCBkZXNjcmlwdGlvbiA6IFwiRXVtIGN1IHRhbnRhcyBsZWdlcmUgY29tcGxlY3RpdHVyLCBoaW5jIHV0YW11XCJ9LFxuICAgICAgICAgICAge25hbWUgOiBcImF3ZXNvbWUgcGhvdG8gOVwiLCBzcmMgOiAnaW1hZ2VzL2ltZy5qcGcnLCBjYXRlZ29yeSA6IFwiZ3JhcGhpY1wiLCBkZXNjcmlwdGlvbiA6IFwiRXVtIGN1IHRhbnRhcyBsZWdlcmUgY29tcGxlY3RpdHVyLCBoaW5jIHV0YW11XCJ9LFxuICAgICAgICAgICAge25hbWUgOiBcImF3ZXNvbWUgcGhvdG8gM1wiLCBzcmMgOiAnaW1hZ2VzL2ltZzIuanBnJywgY2F0ZWdvcnkgOiBcIndlYlwiLCBkZXNjcmlwdGlvbiA6IFwiRXVtIGN1IHRhbnRhcyBsZWdlcmUgY29tcGxlY3RpdHVyLCBoaW5jIHV0YW11XCJ9LFxuICAgICAgICAgICAge25hbWUgOiBcImF3ZXNvbWUgcGhvdG8gM1wiLCBzcmMgOiAnaW1hZ2VzL2ltZzMuanBnJywgY2F0ZWdvcnkgOiBcIndlYlwiLCBkZXNjcmlwdGlvbiA6IFwiRXVtIGN1IHRhbnRhcyBsZWdlcmUgY29tcGxlY3RpdHVyLCBoaW5jIHV0YW11XCJ9XG4gICAgICAgIF07XG5cbiAgICAgICAgJHNjb3BlLnRpbWVsaW5lRGF0YSA9IFtcbiAgICAgICAgICAgIHtkYXRhIDogXCJTZXB0ZW1iZXIgMjAxNFwiLCB0aXRsZSA6IFwiV2UgUmVhY2ggVGhlIFRvcFwiLCBzdWJ0aXRsZSA6IFwiS2F0IGlzIG5ldyBicmFuZFwiLCBkZXNjcmlwdGlvbiA6IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIHJlYnVtIGRvbG9yZSBsYWJvcmVzIGN1IHByaS4gRmVycmkgaXVkaWNvIHNjcmlwdGEgdXQgZWFtLCBkaWNlcmV0IGV1aXNtb2QgZ3ViZXJncmVuIGhhcyBldSwgYW4gcXVvIHRhbGUgdml2ZW5kdW0uIEFkIHF1aWRhbSBndWJlcmdyZW4gdml0dXBlcmF0b3JpYnVzIHNpdC4gSXVzIGV0aWFtIG5lbW9yZSBjb25zdWxhdHUgbmUsIGF0IG1lbGlvcmUgZXhwbGljYXJpIGNvbmNlcHRhbSBxdWkuIEFnYW0gY2V0ZXJvcyBmb3JlbnNpYnVzLlwifSxcbiAgICAgICAgICAgIHtkYXRhIDogXCJNYXkgMjAxNFwiLCB0aXRsZSA6IFwiQ2xvc2UgVG8gVGhlIFN0YXJzXCIsIHN1YnRpdGxlIDogXCJCaWcgdGhpbmcgYXJlIGhhcHBlbmluZ1wiLCBkZXNjcmlwdGlvbiA6IFwiTG9yZW0gaXBzdW0gZG9sb3Igc2l0IGFtZXQsIHJlYnVtIGRvbG9yZSBsYWJvcmVzIGN1IHByaS4gRmVycmkgaXVkaWNvIHNjcmlwdGEgdXQgZWFtLCBkaWNlcmV0IGV1aXNtb2QgZ3ViZXJncmVuIGhhcyBldSwgYW4gcXVvIHRhbGUgdml2ZW5kdW0uIEFkIHF1aWRhbSBndWJlcmdyZW4gdml0dXBlcmF0b3JpYnVzIHNpdC4gSXVzIGV0aWFtIG5lbW9yZSBjb25zdWxhdHUuXCJ9LFxuICAgICAgICAgICAge2RhdGEgOiBcIkFwcmlsIDIwMTJcIiwgdGl0bGUgOiBcIk5ldyBPZmZpY2VcIiwgc3VidGl0bGUgOiBcIldlIGFyZSBtb3ZpbmdcIiwgZGVzY3JpcHRpb24gOiBcIkxvcmVtIGlwc3VtIGRvbG9yIHNpdCBhbWV0LCByZWJ1bSBkb2xvcmUgbGFib3JlcyBjdSBwcmkuIEZlcnJpIGl1ZGljbyBzY3JpcHRhIHV0IGVhbSwgZGljZXJldCBldWlzbW9kIGd1YmVyZ3JlbiBoYXMgZXUsIGFuIHF1byB0YWxlIHZpdmVuZHVtLlwifSxcbiAgICAgICAgICAgIHtkYXRhIDogXCJNYXJjaCAyMDEyXCIsIHRpdGxlIDogXCJLZXQgSXMgTGl2ZVwiLCBzdWJ0aXRsZSA6IFwiSnVzdCBzdGFydGVkIGFuZCBmZWVsIHNvIGFsaXZlXCIsIGRlc2NyaXB0aW9uIDogXCJMb3JlbSBpcHN1bSBkb2xvciBzaXQgYW1ldCwgcmVidW0gZG9sb3JlIGxhYm9yZXMgY3UgcHJpLiBGZXJyaSBpdWRpY28gc2NyaXB0YSB1dCBlYW0sIGRpY2VyZXQgZXVpc21vZCBndWJlcmdyZW4gaGFzIGV1LCBhbiBxdW8gdGFsZSB2aXZlbmR1bS4gQWQgcXVpZGFtIGd1YmVyZ3JlbiB2aXR1cGVyYXRvcmlidXMgc2l0LiBJdXMgZXRpYW0gbmVtb3JlIGNvbnN1bGF0dSBuZSwgYXQgbWVsaW9yZSBleHBsaWNhcmkgY29uY2VwdGFtIHF1aS4gQWdhbSBjZXRlcm9zIGZvcmVuc2lidXMgdml4IGV1LCBwYXVsbyB1YmlxdWUgZXggZWFtLlwifVxuICAgICAgICBdO1xuXG4gICAgICAgICRzY29wZS5jb3VudGVycyA9IFtcbiAgICAgICAgICAgIHt2YWx1ZSA6ICczMDU0JywgZGVzY3JpcHRpb24gOiBcImNvbXBsZXRlZCBwcm9qZWN0c1wiLCBpY29uOiBcImltYWdlcy9pY29uLXByb2plY3RzLnBuZ1wifSxcbiAgICAgICAgICAgIHt2YWx1ZSA6ICc3MjM0ODczJywgZGVzY3JpcHRpb24gOiBcImNsaWNrIHByZXNlZFwiLCBpY29uOiBcImltYWdlcy9pY29uLWNsaWNrLnBuZ1wifSxcbiAgICAgICAgICAgIHt2YWx1ZSA6ICc0NjcwJywgZGVzY3JpcHRpb24gOiBcIm1haWxzIHNlbmRlZCBhbmQgcmVjZWl2ZWRcIiwgaWNvbjogXCJpbWFnZXMvaWNvbi1tYWlscy5wbmdcIn0sXG4gICAgICAgICAgICB7dmFsdWUgOiAnOTM5JywgZGVzY3JpcHRpb24gOiBcImpva2VzIHRvbGRzXCIsIGljb246IFwiaW1hZ2VzL2ljb24tam9rZXMucG5nXCJ9XG4gICAgICAgIF07XG5cbiAgICAgICAgJHNjb3BlLmZpbHRlcnMgPSB7fTtcbiAgICAgICAgJHNjb3BlLnNvcnQgPSBmdW5jdGlvbiAodmFsdWUpe1xuICAgICAgICAgICAgJHNjb3BlLmZpbHRlcnMuY2F0ZWdvcnkgPSB2YWx1ZTtcbiAgICAgICAgfTtcbiAgICAgICAgLy9vcGVuIG1vZGFsIHdpbmRvd1xuICAgICAgICAkc2NvcGUuY2xpY2tUb09wZW4gPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgbmdEaWFsb2cub3Blbih7IHRlbXBsYXRlOiAnIDxkaXYgY2xhc3M9XCJwb3B1cF93cmFwXCI+PGltZyBjbGFzcz1cInBvcHVwX2ltZ1wiIHNyYz1cIicrIGl0ZW0uc3JjICsnXCIgYWx0PVwiXCIvPjxzcGFuIGNsYXNzPVwicG9wdXBfbmFtZVwiPicrIGl0ZW0ubmFtZSArJzwvc3Bhbj4nLCBjbGFzc05hbWU6ICduZ2RpYWxvZy10aGVtZS1kZWZhdWx0JywgcGxhaW46IHRydWUsIHdpZHRoOiAnNjAlJyB9KTtcbiAgICAgICAgfTtcbiAgICB9XSk7XG5cbiAgICBmdW5jdGlvbiBpc1Njcm9sbGVkSW50b1ZpZXcoZWxlbSxvZmZzZXQpIHtcbiAgICAgICAgdmFyICRlbGVtID0gJChlbGVtKTtcbiAgICAgICAgdmFyICR3aW5kb3cgPSAkKHdpbmRvdyk7XG4gICAgICAgIHZhciBkb2NWaWV3VG9wID0gJHdpbmRvdy5zY3JvbGxUb3AoKTtcbiAgICAgICAgdmFyIGRvY1ZpZXdCb3R0b20gPSBkb2NWaWV3VG9wICsgJHdpbmRvdy5oZWlnaHQoKTtcbiAgICAgICAgdmFyIGVsZW1Ub3AgPSAkZWxlbS5vZmZzZXQoKS50b3A7XG4gICAgICAgIHZhciBlbGVtQm90dG9tID0gZWxlbVRvcCArICRlbGVtLmhlaWdodCgpIC0gb2Zmc2V0O1xuICAgICAgICByZXR1cm4gKChlbGVtQm90dG9tIDw9IGRvY1ZpZXdCb3R0b20pICYmIChlbGVtVG9wID49IGRvY1ZpZXdUb3ApKTtcbiAgICB9XG5cblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICQoJy5wb3J0Zm9saW9fX2NvdW50ZXItaXRlbV92YWx1ZScpLmNvdW50ZXJVcCh7XG4gICAgICAgICAgICBkZWxheTogMTAsIC8vIHRoZSBkZWxheSB0aW1lIGluIG1zXG4gICAgICAgICAgICB0aW1lOiAxMDAwIC8vIHRoZSBzcGVlZCB0aW1lIGluIG1zXG4gICAgICAgIH0pO1xuICAgICAgICAvL2dhbGxlcnkgc2V0dGluZ3NcbiAgICAgICAgdmFyIHNsaWNrU2V0dGluZ3MgPSB7XG4gICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxuICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzE1MHB4JyxcbiAgICAgICAgICAgIHNsaWRlc1RvU2hvdzogMyxcbiAgICAgICAgICAgIHJlc3BvbnNpdmU6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2OCxcbiAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJNb2RlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2VudGVyUGFkZGluZzogJzQwcHgnLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2xpZGVzVG9TaG93OiAxXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWtwb2ludDogNDgwLFxuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyb3dzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNlbnRlck1vZGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjZW50ZXJQYWRkaW5nOiAnNDBweCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBzbGlkZXNUb1Nob3c6IDFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgZ2FsbGVyeUNsYXNzID0gJCgnLmNlbnRlcicpO1xuICAgICAgICB2YXIgZ2FsbGVyeUZpbHRlcnMgPSAkKFwiLnBvcnRmb2xpb19fdGFic1wiKTtcblxuXG4gICAgICAgIC8vZ2FsbGVyeSBpbml0aWFsaXplXG4gICAgICAgIGdhbGxlcnlDbGFzcy5zbGljayhzbGlja1NldHRpbmdzKTtcbiAgICAgICAgZ2FsbGVyeUZpbHRlcnMuZmluZChcImRpdlwiKS5jbGljayhmdW5jdGlvbigpe1xuICAgICAgICAgICAgZ2FsbGVyeUNsYXNzLnNsaWNrKCd1bnNsaWNrJyk7XG4gICAgICAgICAgICBnYWxsZXJ5Q2xhc3Muc2xpY2soc2xpY2tTZXR0aW5ncyk7XG4gICAgICAgICAgICBnYWxsZXJ5RmlsdGVycy5maW5kKFwiZGl2XCIpLnJlbW92ZUNsYXNzKFwicG9ydGZvbGlvX190YWJzX2l0ZW0tLWFjdGl2ZVwiKTsvL3JlbW92ZSBpZiBzb21ldGhpbmcgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKFwicG9ydGZvbGlvX190YWJzX2l0ZW0tLWFjdGl2ZVwiKTsvL2FkZCBhIHNlbGVjdGVkIGNsYXNzXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vdG9wLW1lbnUgZm9yIG1vYmlsZVxuICAgICAgICB2YXIgdG9wTmF2ID0gICQoJyNuYXYtdGFicycpO1xuICAgICAgICBmdW5jdGlvbiBjaGFuZ2VNZW51KCkge1xuICAgICAgICAgICAgaWYoJCh3aW5kb3cpLndpZHRoKCkgPCA3NjgpIHtcbiAgICAgICAgICAgICAgICB0b3BOYXYuYWRkQ2xhc3MoJ21vYmlsZW5hdicpO1xuICAgICAgICAgICAgICAgIHRvcE5hdi5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdG9wTmF2LnJlbW92ZUNsYXNzKCdtb2JpbGVuYXYnKTtcbiAgICAgICAgICAgICAgICB0b3BOYXYuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2hhbmdlTWVudSgpO1xuICAgICAgICAkKCB3aW5kb3cgKS5yZXNpemUoZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIGNoYW5nZU1lbnUoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9zbW9vdGggc2Nyb2xsXG4gICAgICAgIHRvcE5hdi5maW5kKFwiYVwiKS5jbGljayggZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIHZhciBzY3JvbGxfZWwgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTtcbiAgICAgICAgICAgIGlmICgkKHNjcm9sbF9lbCkubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgJCgnaHRtbCwgYm9keScpLmFuaW1hdGUoeyBzY3JvbGxUb3A6ICQoc2Nyb2xsX2VsKS5vZmZzZXQoKS50b3AgfSwgNTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy90b3AtbWVudSBiZWhhdmlvclxuICAgICAgICB2YXIgbmF2ID0gJCgnI25hdicpO1xuICAgICAgICB2YXIgbmF2cG9zID0gbmF2Lm9mZnNldCgpO1xuXG5cblxuXG4gICAgICAgICQod2luZG93KS5iaW5kKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkKHdpbmRvdykuc2Nyb2xsVG9wKCkgPiBuYXZwb3MudG9wKSB7XG4gICAgICAgICAgICAgICAgbmF2LmFkZENsYXNzKCdmaXhlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbmF2LnJlbW92ZUNsYXNzKCdmaXhlZCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkLmVhY2goWycjdHlwb2dyYXBoeScsJyNidXR0b25zJywgJyNncmlkcycsICcjZm9ybXMnLCAnI2JhcnMnLCAnI2ltYWdlcycsICcjbmF2aScgXSxmdW5jdGlvbihrZXksIHZhbCl7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1Njcm9sbGVkSW50b1ZpZXcodmFsLDEwMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuYXZfaWQgPSAnIycgKyAkKHZhbCkuYXR0cignaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcE5hdi5maW5kKFwiYVwiKS5yZW1vdmVDbGFzcyhcImhlYWRlcl9fbmF2X2l0ZW0tLWFjdGl2ZVwiKTsvL3JlbW92ZSBpZiBzb21ldGhpbmcgd2FzIHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCdhW2hyZWY9XCInICsgbmF2X2lkICsgJ1wiXScpLmFkZENsYXNzKFwiaGVhZGVyX19uYXZfaXRlbS0tYWN0aXZlXCIpOy8vYWRkIGEgc2VsZWN0ZWQgY2xhc3NcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0b3BOYXYuZmluZChcImFcIikuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB0b3BOYXYuZmluZChcImFcIikucmVtb3ZlQ2xhc3MoXCJoZWFkZXJfX25hdl9pdGVtLS1hY3RpdmVcIik7Ly9yZW1vdmUgaWYgc29tZXRoaW5nIHdhcyBzZWxlY3RlZFxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoXCJoZWFkZXJfX25hdl9pdGVtLS1hY3RpdmVcIik7Ly9hZGQgYSBzZWxlY3RlZCBjbGFzc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vdGltZWxpbmUgZWxlbWVudHMgYXBwZWFyYW5jZVxuICAgICAgICAgICAgJCggXCIudGltZWxpbmVfX2l0ZW1cIiApLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2Nyb2xsZWRJbnRvVmlldyh0aGlzLDApKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2hpZGRlbi1lbGVtJyk7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3Zpc2libGUtZWxlbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaGlkZGVuLWVsZW0nKTtcbiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygndmlzaWJsZS1lbGVtJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xufSkoKTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
